---
category: project
cover: https://cdn.pixabay.com/photo/2024/05/18/08/16/cat-8769861_640.jpg
---

# 在开发组件之前

原本该节准备开始开发组件，但是我希望站在一个真正开发的角度来思考一下，现在大多数的文章可能只会教你写一个 button 然后结束，但是在你自己想做一个组件库的过程中你会发现很多的坑和注意点需要前期来考虑，那我带大家来思考一下我们前期需要准备些什么呢？

## 组件状态类型

我们在开发的时候经常用`Element Plus`、`Ant Design`以及其他组件库的过程中我们会发现有很多的组件都拥有状态，例如 button、message、alert、tag 等等，这些状态有代表其状态特有的颜色来表示，比如红色我们会当做报错、危险等状态，黄色代表警告之类的，一般我们会分为四种常用状态 `info`、`success`、`warning`、`error`，当然你也可以为你的组件库定义多种状态，我在这只是为了让大家理解。

## 组件使用（生成）方式

同样我们以我们常用的`Element Plus`、`Ant Design`组件库来说，我们认为的组件一般都是直接注册组件然后直接使用组件的名称来在 template 中使用，但是在我们使用这些组件库的时候我们会发现除了这种普通的组件，还有一些通过方法调用来生成组件的、通过指令来生成组件的：

- 普通组件
  Button、Table、Input 等
- 通过函数生成组件
  Message（消息）、MessageBox（消息弹出框）、Notification（通知）等
- 通过指令生成组件
  loading（加载）等

## 组件的构思

大多数我们使用的组件都是在我们写入附近的 dom 层级生成，比如 button 组件，这是是最常见的。

![](http://tuchuang.niubin.site/image/project-20240822-1.png)

但是有一些场景这种是会出现问题的，我也发现有些个人的组件库存在这种问题，我举个栗子 🌰，我们有一个 div，div 中存在一个一个 `select` 组件，我们 hover 在 select 组件上的时候他的 option 会显示出来，我们会想到我们的 select 组件在外层给一个 `realtive`，然后选项的 option 绝对定位到下面，又或者有些人严谨一些，使用 `position：fixed`，但是这种都存在一个问题，就是如果在我刚开始提到的 div 中我设置了一个 css 属性: `overflow:hidden`，这两种都就寄了，我们总不能局限使用者的场景，所以我们必须想办法支持这种场景，我给你看一下 `Element Plus` 的处理你就知道了

![](http://tuchuang.niubin.site/image/project-20240822-1=2.png)

大家是否发现，他的 `select` 的框是在 id 为 app 的里面渲染的，但是渲染的 option 部分的代码是在 `#app` 的外面，这样你的 select 所在位置再怎么折腾都不会影响我 option 的显示，麻烦的一点就是我们每次都需要计算我们的 option 位置，其实单论一个 select 组件，有特别多需要注意的地方，在开发的过程中我也会给大家提出，希望大家持续点赞关注（ps.嘤嘤嘤，全是白嫖收藏的，没人点赞没人关注 😭）
