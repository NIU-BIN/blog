---
category: project
cover: https://cdn.pixabay.com/photo/2024/05/18/08/16/cat-8769861_640.jpg
---

# åœ¨å¼€å‘ç»„ä»¶ä¹‹å‰

åŸæœ¬è¯¥èŠ‚å‡†å¤‡å¼€å§‹å¼€å‘ç»„ä»¶ï¼Œä½†æ˜¯æˆ‘å¸Œæœ›å¤§å®¶èƒ½å¤Ÿæ€è€ƒä¸€ä¸‹ï¼Œç°åœ¨å¤§å¤šæ•°çš„æ–‡ç« å¯èƒ½åªä¼šæ•™ä½ å†™ä¸€ä¸ª button ç„¶åç»“æŸï¼Œä½†æ˜¯åœ¨ä½ è‡ªå·±æƒ³åšä¸€ä¸ªç»„ä»¶åº“çš„è¿‡ç¨‹ä¸­ä½ ä¼šå‘ç°å¾ˆå¤šçš„å‘å’Œæ³¨æ„ç‚¹éœ€è¦å‰æœŸæ¥è€ƒè™‘ï¼Œé‚£æˆ‘å¸¦å¤§å®¶æ¥æ€è€ƒä¸€ä¸‹æˆ‘ä»¬å‰æœŸéœ€è¦å‡†å¤‡äº›ä»€ä¹ˆå‘¢ï¼Ÿ

## ç»„ä»¶çŠ¶æ€ç±»å‹

æˆ‘ä»¬åœ¨å¼€å‘çš„æ—¶å€™ç»å¸¸ç”¨`Element Plus`ã€`Ant Design`ä»¥åŠå…¶ä»–ç»„ä»¶åº“çš„è¿‡ç¨‹ä¸­æˆ‘ä»¬ä¼šå‘ç°æœ‰å¾ˆå¤šçš„ç»„ä»¶éƒ½æ‹¥æœ‰çŠ¶æ€ï¼Œä¾‹å¦‚ buttonã€messageã€alertã€tag ç­‰ç­‰ï¼Œè¿™äº›çŠ¶æ€æœ‰ä»£è¡¨å…¶çŠ¶æ€ç‰¹æœ‰çš„é¢œè‰²æ¥è¡¨ç¤ºï¼Œæ¯”å¦‚çº¢è‰²æˆ‘ä»¬ä¼šå½“åšæŠ¥é”™ã€å±é™©ç­‰çŠ¶æ€ï¼Œé»„è‰²ä»£è¡¨è­¦å‘Šä¹‹ç±»çš„ï¼Œä¸€èˆ¬æˆ‘ä»¬ä¼šåˆ†ä¸ºå››ç§å¸¸ç”¨çŠ¶æ€ `info`ã€`success`ã€`warning`ã€`error`ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ä¸ºä½ çš„ç»„ä»¶åº“å®šä¹‰å¤šç§çŠ¶æ€ï¼Œæˆ‘åœ¨è¿™åªæ˜¯ä¸ºäº†è®©å¤§å®¶ç†è§£ã€‚

## ç»„ä»¶ä½¿ç”¨ï¼ˆç”Ÿæˆï¼‰æ–¹å¼

åŒæ ·æˆ‘ä»¬ä»¥æˆ‘ä»¬å¸¸ç”¨çš„`Element Plus`ã€`Ant Design`ç»„ä»¶åº“æ¥è¯´ï¼Œæˆ‘ä»¬è®¤ä¸ºçš„ç»„ä»¶ä¸€èˆ¬éƒ½æ˜¯ç›´æ¥æ³¨å†Œç»„ä»¶ç„¶åç›´æ¥ä½¿ç”¨ç»„ä»¶çš„åç§°æ¥åœ¨ template ä¸­ä½¿ç”¨ï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬ä½¿ç”¨è¿™äº›ç»„ä»¶åº“çš„æ—¶å€™æˆ‘ä»¬ä¼šå‘ç°é™¤äº†è¿™ç§æ™®é€šçš„ç»„ä»¶ï¼Œè¿˜æœ‰ä¸€äº›é€šè¿‡æ–¹æ³•è°ƒç”¨æ¥ç”Ÿæˆç»„ä»¶çš„ã€é€šè¿‡æŒ‡ä»¤æ¥ç”Ÿæˆç»„ä»¶çš„ï¼š

- æ™®é€šç»„ä»¶
  Buttonã€Tableã€Input ç­‰
- é€šè¿‡å‡½æ•°ç”Ÿæˆç»„ä»¶
  Messageï¼ˆæ¶ˆæ¯ï¼‰ã€MessageBoxï¼ˆæ¶ˆæ¯å¼¹å‡ºæ¡†ï¼‰ã€Notificationï¼ˆé€šçŸ¥ï¼‰ç­‰
- é€šè¿‡æŒ‡ä»¤ç”Ÿæˆç»„ä»¶
  loadingï¼ˆåŠ è½½ï¼‰ç­‰

## ç»„ä»¶çš„æ„æ€

å¤§å¤šæ•°æˆ‘ä»¬ä½¿ç”¨çš„ç»„ä»¶éƒ½æ˜¯åœ¨æˆ‘ä»¬å†™å…¥é™„è¿‘çš„ dom å±‚çº§ç”Ÿæˆï¼Œæ¯”å¦‚ button ç»„ä»¶ï¼Œè¿™æ˜¯æ˜¯æœ€å¸¸è§çš„ã€‚

![](http://tuchuang.niubin.site/image/project-20240822-1.png)

ä½†æ˜¯æœ‰ä¸€äº›åœºæ™¯è¿™ç§æ˜¯ä¼šå‡ºç°é—®é¢˜çš„ï¼Œæˆ‘ä¹Ÿå‘ç°æœ‰äº›ä¸ªäººçš„ç»„ä»¶åº“å­˜åœ¨è¿™ç§é—®é¢˜ï¼Œæˆ‘ä¸¾ä¸ªæ —å­ ğŸŒ°ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª divï¼Œdiv ä¸­å­˜åœ¨ä¸€ä¸ªä¸€ä¸ª `select` ç»„ä»¶ï¼Œæˆ‘ä»¬ hover åœ¨ select ç»„ä»¶ä¸Šçš„æ—¶å€™ä»–çš„ option ä¼šæ˜¾ç¤ºå‡ºæ¥ï¼Œæˆ‘ä»¬ä¼šæƒ³åˆ°æˆ‘ä»¬çš„ select ç»„ä»¶åœ¨å¤–å±‚ç»™ä¸€ä¸ª `realtive`ï¼Œç„¶åé€‰é¡¹çš„ option ç»å¯¹å®šä½åˆ°ä¸‹é¢ï¼Œåˆæˆ–è€…æœ‰äº›äººä¸¥è°¨ä¸€äº›ï¼Œä½¿ç”¨ `positionï¼šfixed`ï¼Œä½†æ˜¯è¿™ç§éƒ½å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å¦‚æœåœ¨æˆ‘åˆšå¼€å§‹æåˆ°çš„ div ä¸­æˆ‘è®¾ç½®äº†ä¸€ä¸ª css å±æ€§: `overflow:hidden`ï¼Œè¿™ä¸¤ç§éƒ½å°±å¯„äº†ï¼Œæˆ‘ä»¬æ€»ä¸èƒ½å±€é™ä½¿ç”¨è€…çš„åœºæ™¯ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»æƒ³åŠæ³•æ”¯æŒè¿™ç§åœºæ™¯ï¼Œæˆ‘ç»™ä½ çœ‹ä¸€ä¸‹ `Element Plus` çš„å¤„ç†ä½ å°±çŸ¥é“äº†

![](http://tuchuang.niubin.site/image/project-20240822-2.png)

å¤§å®¶æ˜¯å¦å‘ç°ï¼Œä»–çš„ `select` çš„æ¡†æ˜¯åœ¨ id ä¸º app çš„é‡Œé¢æ¸²æŸ“çš„ï¼Œä½†æ˜¯æ¸²æŸ“çš„ option éƒ¨åˆ†çš„ä»£ç æ˜¯åœ¨ `#app` çš„å¤–é¢ï¼Œè¿™æ ·ä½ çš„ select æ‰€åœ¨ä½ç½®å†æ€ä¹ˆæŠ˜è…¾éƒ½ä¸ä¼šå½±å“æˆ‘ option çš„æ˜¾ç¤ºï¼Œéº»çƒ¦çš„ä¸€ç‚¹å°±æ˜¯æˆ‘ä»¬æ¯æ¬¡éƒ½éœ€è¦è®¡ç®—æˆ‘ä»¬çš„ option ä½ç½®ï¼Œå…¶å®å•è®ºä¸€ä¸ª select ç»„ä»¶ï¼Œæœ‰ç‰¹åˆ«å¤šéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œåœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­æˆ‘ä¹Ÿä¼šç»™å¤§å®¶æå‡ºï¼Œå¸Œæœ›å¤§å®¶æŒç»­ç‚¹èµå…³æ³¨ï¼ˆps.å˜¤å˜¤å˜¤ï¼Œå…¨æ˜¯ç™½å«–æ”¶è—çš„ï¼Œæ²¡äººç‚¹èµæ²¡äººå…³æ³¨ ğŸ˜­ï¼‰

è¿™ç§ç»„ä»¶æ¯”è¾ƒå¤šï¼Œæ¯”å¦‚ Selectã€Cascaderã€ColorPickerã€DatePicker ç­‰ï¼Œéƒ½æ˜¯è¿™ç§æ€è·¯ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†è¿™ç§â€œå¤–æŒ‚â€çš„é€»è¾‘è¿›è¡Œå°è£…ï¼Œåˆ°æ—¶å€™ç›´æ¥è°ƒç”¨ utils ä¸­çš„æ–¹æ³•ã€‚

è¿™ä¸ªæ–¹æ³•éœ€è¦è€ƒè™‘ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚å‡ºç°çš„ä½ç½®ã€æ»šåŠ¨çš„æ—¶å€™éœ€è¦è·Ÿéšæ»šåŠ¨ï¼Œè¿˜éœ€è¦æ³¨æ„æ”¾çš„ä½ç½®æ˜¯å¦åœ¨å¯è§†åŒºåŸŸï¼Œæ²¡åœ¨å¯è§†åŒºåŸŸè¦è®¡ç®—æ˜¯å¦èƒ½æ­£å¸¸æ”¾ç½®ï¼Œæ”¾ç½®ä¸äº†éœ€è¦æ”¹å˜ä½ç½®ä¹‹ç±»çš„ï¼›æœ‰äº›ç»„ä»¶ä¹Ÿå¯ä»¥ç›´æ¥æŒ‡å®šä½ç½®ï¼Œæ¯”å¦‚ tooltipsï¼Œæˆ‘ä¼ å…¥ä¸€ä¸ª placement å±æ€§æ¥å†³å®šæˆ‘è¦ç°åœ¨æ˜¯ä¸Šæ–¹æˆ–è€…ä¸‹æ–¹ç­‰ç­‰ï¼Œè¿™ä¸ªåœ¨æˆ‘ä»¬å†™çš„æ—¶å€™å…·ä½“è®¨è®ºå®ç°ï¼Œæˆ‘è¯´çš„ä¸ä¸€å®šå…¨ï¼Œä¹Ÿä¸ä¸€å®šå¯¹ï¼Œå†™çš„é€»è¾‘ä¹Ÿå¯èƒ½å­˜åœ¨ bugï¼Œå¤§å®¶å¤§èƒ†æï¼Œæœ‰å»ºè®®ç›´æ¥è¯´ï¼Œæˆ–è€…è´´ä»£ç ï¼Œå¤§å®¶éƒ½æ˜¯ç›¸äº’å­¦ä¹ ï¼Œæˆ‘ä¹Ÿæ¯”è¾ƒèœï¼Œå†™æ–‡ç« ä¸€æ˜¯ä¸ºäº†è®°å½•ï¼ŒäºŒæ˜¯ä¸ºäº†åˆ†äº«ï¼Œä¸‰æ˜¯ä¸ºäº†ç›¸äº’å­¦ä¹ ï¼Œçœ‹å¤§å®¶æœ‰ä»€ä¹ˆå¥½çš„æ–¹æ³•ï¼Œä»¥åŠæŒ‡å‡ºè‡ªå·±çš„è¡¥è¶³ã€‚

## ç»„ä»¶æ³¨å†Œ

æˆ‘ä»¬åœ¨ç¬¬äºŒèŠ‚ä¸­ä¹Ÿè¯´è¿‡ï¼Œæˆ‘ä»¬çš„ button ç»„ä»¶åœ¨å¤–éƒ¨å†™äº†ä¸€ä¸ª `index.js`ï¼Œç„¶åæŠ›å‡ºå»ä¸€ä¸ªæºå¸¦ `install` çš„å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å°†ç»„ä»¶æŠ›å‡ºå»ï¼Œä½†æ˜¯æˆ‘ä»¬åŠ äº†è¿™ä¸ªï¼Œå°±æ„å‘³ç€æˆ‘ä»¬åœ¨ä½¿ç”¨çš„æ˜¯å¯ä»¥å•ç‹¬å¯¹æŸä¸€ä¸ªç»„ä»¶è¿›è¡Œ `use`ï¼Œå¯¹æ­¤æˆ‘ä»¬ä¹Ÿå¯ä»¥å°†è¿™äº›æ³¨å†Œç»„ä»¶çš„é€»è¾‘å°è£…ä¸ºä¸€ä¸ªæ–¹æ³•ã€‚

## ä¸»é¢˜è‰²ç›¸å…³

å‰é¢ä¹Ÿæåˆ°è¿‡çŠ¶æ€ï¼ŒçŠ¶æ€è¿™äº›åŸºæœ¬ä¸€ç±»çŠ¶æ€é¢œè‰²åœ¨ä»»ä½•æ‹¥æœ‰çŠ¶æ€çš„ç»„ä»¶ä¸­éƒ½å¯ä»¥ä½¿ç”¨ï¼Œæˆ‘ä»¬ä¸€èˆ¬åªå®šä¸€ä¸ª primary ä¸»é¢˜è‰²ï¼Œå…¶ä»–çš„ä¸ºå„ä¸ªçŠ¶æ€é¢œè‰²çš„ä¸»é¢˜è‰²ï¼Œä½†æ˜¯ç”±äºæœ‰äº›åœºæ™¯æ¯”å¦‚ buttonï¼Œæ–‡å­—æ˜¯ä¸»é¢˜è‰²ï¼Œè¾¹æ¡†æ˜¯ä¸»é¢˜è‰²ï¼Œä½†æ˜¯èƒŒæ™¯è‰²æ˜¯æ¯”è¾ƒæµ…çš„ä¸»é¢˜è‰²ï¼Œå¯ä»¥é€šè¿‡è®¡ç®— rgba æ·»åŠ é€æ˜è‰²æ¥å®ç°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡åå…­è¿›åˆ¶è®¡ç®—ï¼Œæˆ‘æ¯”è¾ƒæ¨èåå…­è¿›åˆ¶è®¡ç®—é¢œè‰²ï¼Œè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦è®¡ç®—ä¸€ä¸‹é€šè¿‡ä¸»é¢˜è‰²è®¡ç®—å‡ºç”±æµ…åˆ°æ·±ä¸åŒç­‰çº§çš„ä¸»é¢˜è‰²è‰²é˜¶ã€‚Element Plus è·Ÿæˆ‘ä»¬è¯´çš„ä¸€æ ·çš„è¿™ç§ç”±æµ…åˆ°æ·±ä¸»é¢˜è‰²ã€‚

![](http://tuchuang.niubin.site/image/project-20240822-3.png)

æˆ‘ç›´æ¥æŠŠæ–¹æ³•æ”¾åœ¨è¿™

```ts
// å¤„ç†ä¸»é¢˜æ ·å¼
export const handleThemeStyle = (theme: string) => {
  document.documentElement.style.setProperty("--themeColor", theme);
  document.documentElement.style.setProperty("--el-color-primary", theme);
  for (let i = 1; i <= 9; i++) {
    document.documentElement.style.setProperty(
      `--el-color-primary-light-${i}`,
      `${getLightColor(theme, i / 10)}`
    );
  }
  for (let i = 1; i <= 9; i++) {
    document.documentElement.style.setProperty(
      `--el-color-primary-dark-${i}`,
      `${getDarkColor(theme, i / 10)}`
    );
  }
};

// hexé¢œè‰²è½¬rgbé¢œè‰²
export const hexToRgb = (str: string): string[] => {
  str = str.replace("#", "");
  const hexs = str.match(/../g);
  for (let i = 0; i < 3; i++) {
    if (hexs) {
      hexs[i] = String(parseInt(hexs[i], 16));
    }
  }
  return hexs ? hexs : [];
};

// rgbé¢œè‰²è½¬Hexé¢œè‰²
export const rgbToHex = (r: string, g: string, b: string) => {
  const hexs = [Number(r).toString(16), Number(g).toString(16), Number(b).toString(16)];
  for (let i = 0; i < 3; i++) {
    if (hexs[i].length == 1) {
      hexs[i] = `0${hexs[i]}`;
    }
  }
  return `#${hexs.join("")}`;
};

// å˜æµ…é¢œè‰²å€¼
export const getLightColor = (color: string, level: number) => {
  const rgb = hexToRgb(color);
  for (let i = 0; i < 3; i++) {
    const s = (255 - Number(rgb[i])) * level + Number(rgb[i]);
    rgb[i] = String(Math.floor(s));
  }
  return rgbToHex(rgb[0], rgb[1], rgb[2]);
};

// å˜æ·±é¢œè‰²å€¼
export const getDarkColor = (color: string, level: number) => {
  const rgb = hexToRgb(color);
  for (let i = 0; i < 3; i++) {
    rgb[i] = String(Math.floor(Number(rgb[i]) * (1 - level)));
  }
  return rgbToHex(rgb[0], rgb[1], rgb[2]);
};
```

## å›¾æ ‡

å›¾æ ‡åœ¨æˆ‘ä»¬ç»„ä»¶åº“ä¸­å‡ºç°çš„ä¹Ÿæ¯”è¾ƒå¤šï¼Œæœ€èƒ½æƒ³åˆ°çš„å°±æ˜¯ `icon` ç»„ä»¶ï¼Œä½†æ˜¯åƒæˆ‘ä»¬ä¸€äº› Menuã€Select ç­‰ç»„ä»¶éƒ½ä¼šæœ‰ä¸€äº›ç®­å¤´ã€æ„Ÿå¹å·ä¹‹ç±»çš„å‡ºç°ï¼Œæœ‰äº›ç»„ä»¶æˆ‘ä»¬ä¹Ÿå¯ä»¥å°†è¿™ç±»ç»„ä»¶çš„ icon éƒ¨åˆ†è®¾ç½®ä¸ºæ’æ§½ï¼Œè®©ç”¨æˆ·è‡ªå®šä¹‰ï¼Œè¿™äº›å›¾æ ‡æˆ‘å»ºè®®ä½¿ç”¨ `font` æ–‡ä»¶è¿›è¡Œå¼•å…¥ï¼Œè¿™ç±»å›¾æ ‡æˆ‘ä»¬å¯ä»¥åœ¨[é˜¿é‡Œå·´å·´çŸ¢é‡å›¾](https://www.iconfont.cn/) ä¸­æŸ¥æ‰¾å¹¶å¯¼å‡ºï¼Œå¦‚æœæœ‰å¿…è¦ï¼Œæˆ‘åˆ°æ—¶å€™å°†å¯¼å‡ºçš„æ“ä½œæµç¨‹ç»™å¤§å®¶åšä»¥è¡¥å……ã€‚

## æµ‹è¯•

ä¸€èˆ¬æ¥è¯´å¼€æºçš„ç»„ä»¶éƒ½ä¼šåšæµ‹è¯•ï¼Œå¯ä»¥ä½¿ç”¨ä¸€äº›å•å…ƒæµ‹è¯•çš„æ¡†æ¶ï¼Œæ¯”å¦‚ Jestã€Cypress ç­‰ç­‰ï¼Œå› ä¸ºç›¸å¯¹æ¥è¯´æ¯”è¾ƒéº»çƒ¦ï¼Œæˆ‘ä¹Ÿè®²ä¸äº†é‚£ä¹ˆç»†ï¼Œå¤§å®¶å¯ä»¥å»çœ‹ä¸€äº›çƒ­é—¨ç»„ä»¶åº“çš„æºç ä»¥åŠè¿™äº›å•å…ƒæµ‹è¯•æ¡†æ¶çš„ä½¿ç”¨ï¼Œæˆ‘è‡ªå·±æ²¡æœ‰ä½¿ç”¨è¿‡ï¼Œæˆ‘è¿™ä¸ªæ‰‹æ‘¸æ‰‹æ•™ç¨‹ä¹Ÿä¸ä¼šç»™å¤§å®¶å†™ä¹‹ç±»çš„æ–‡ç« ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥è‡ªå·±å»ç ”ç©¶ä¸€ä¸‹ï¼Œæˆ‘åªæ˜¯ç»™å¤§å®¶æä¸€ä¸‹è¿™ç‚¹

> ç›®å‰åœ¨ç»„ä»¶æ­£å¼å¼€å‘ä¹‹å‰æˆ‘å°±æƒ³åˆ°è¿™ä¹ˆå¤šï¼Œæˆ‘è§‰å¾—æœ‰å¿…è¦è®©å¤§å®¶å»æ€è€ƒï¼Œè€Œä¸æ˜¯ç›´æ¥å¼€å§‹å†™ä»£ç ï¼Œå¸Œæœ›å¤§å®¶æŒ‡æ­£ï¼Œç›¸äº’å­¦ä¹ ï¼Œæœ¬äººä¹Ÿæ¯”è¾ƒèœï¼Œä¸å¯¹çš„åœ°æ–¹ä»¥åŠæœ‰æ›´å¥½çš„æ–¹æ³•å¸Œæœ›å¤§å®¶å‹å–„æå‡ºï¼Œæˆ–è€…å¯ä»¥ä¸€èµ·è®¨è®ºï¼Œæœ‰å¿…è¦çš„è¯æˆ‘ä»¬å¯ä»¥å…¼è®ºï¼Œæ„Ÿå…´è¶£çš„å¤§å®¶å¯ä»¥ç›¸äº’å­¦ä¹ ã€‚å¸Œæœ›æ‚¨çš„å…³æ³¨å’Œç‚¹èµï¼Œç›¸äº’å­¦ä¹ ï¼Œæ„Ÿè°¢ ğŸ¤
